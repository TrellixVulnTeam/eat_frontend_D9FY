{"remainingRequest":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\src\\store\\modules\\meal-store.js","dependencies":[{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\src\\store\\modules\\meal-store.js","mtime":1627199027834},{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626765022900},{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1626765019750}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IHsgbWVhbFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9tZWFsLXNlcnZpY2UuanMnCmltcG9ydCB7IE5FV21lYWxTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvTkVXLW1lYWwtc2VydmljZS5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgbWVhbHM6IFtdLAogICAgZmlsdGVyQnk6IHsKICAgICAgZGlldDogJ2FsbCcsCiAgICAgIHByaWNlOiBudWxsLAogICAgICBndWVzdHM6IHt9LAogICAgICBjdWlzaW5lOiAnJywKICAgICAgdHh0OiAnJwogICAgfQogIH0sCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgZ2V0dGVyczogewogICAgZ2V0RmlsdGVyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXJCeTsKICAgIH0sCgogICAgbWVhbHNUb1Nob3dIb21lcGFnZShzdGF0ZSkgewogICAgICB2YXIgbWVhbHNUb1Nob3dIb21lcGFnZSA9IHN0YXRlLm1lYWxzLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICAvLyByZXR1cm4gYi5ob3N0LnJhdGUgLSBhLmhvc3QucmF0ZQogICAgICAgIHJldHVybiBhLmhvc3QucmF0ZSA+IGIuaG9zdC5yYXRlID8gLTEgOiBhLmhvc3QucmF0ZSA8IGIuaG9zdC5yYXRlID8gMSA6IDA7CiAgICAgIH0pOwogICAgICBtZWFsc1RvU2hvd0hvbWVwYWdlID0gbWVhbHNUb1Nob3dIb21lcGFnZS5zbGljZSgwLCA0KTsKICAgICAgcmV0dXJuIG1lYWxzVG9TaG93SG9tZXBhZ2U7CiAgICB9LAoKICAgIG1lYWxzVG9TaG93Q3Vpc2luZShzdGF0ZSkgewogICAgICB2YXIgbWVhbHMgPSBbXTsKICAgICAgbWVhbHMgPSBzdGF0ZS5tZWFscy5maWx0ZXIobWVhbCA9PiBtZWFsLmN1aXNpbmUgPT09IHN0YXRlLmZpbHRlckJ5LmN1aXNpbmUpOwogICAgICByZXR1cm4gbWVhbHM7CiAgICB9LAoKICAgIGdldE1lYWxzKHN0YXRlKSB7CiAgICAgIHZhciBtZWFscyA9IFtdOwogICAgICBpZiAoc3RhdGUuZmlsdGVyQnkuZGlldCA9PT0gJ2FsbCcpIG1lYWxzID0gc3RhdGUubWVhbHM7ZWxzZSBtZWFscyA9IHN0YXRlLm1lYWxzLmZpbHRlcihtZWFsID0+IG1lYWxbc3RhdGUuZmlsdGVyQnkuZGlldF0pOwoKICAgICAgaWYgKHN0YXRlLmZpbHRlckJ5Lmd1ZXN0cy5tYXgpIHsKICAgICAgICBtZWFscyA9IG1lYWxzLmZpbHRlcihtZWFsID0+IG1lYWwuZ3Vlc3RzIDw9IHN0YXRlLmZpbHRlckJ5Lmd1ZXN0cy5tYXgpOwogICAgICB9CgogICAgICBpZiAoc3RhdGUuZmlsdGVyQnkucHJpY2UpIHsKICAgICAgICBtZWFscyA9IG1lYWxzLmZpbHRlcihtZWFsID0+IG1lYWwucHJpY2UgPiBzdGF0ZS5maWx0ZXJCeS5wcmljZVswXSAmJiBtZWFsLnByaWNlIDwgc3RhdGUuZmlsdGVyQnkucHJpY2VbMV0pOwogICAgICB9CgogICAgICBpZiAoc3RhdGUuZmlsdGVyQnkuY3Vpc2luZSkgewogICAgICAgIG1lYWxzID0gbWVhbHMuZmlsdGVyKG1lYWwgPT4gbWVhbC5jdWlzaW5lLnRvTG93ZXJDYXNlKCkgPT09IHN0YXRlLmZpbHRlckJ5LmN1aXNpbmUpOwogICAgICB9IGVsc2UgaWYgKHN0YXRlLmZpbHRlckJ5LmN1aXNpbmUgPT09ICdhbGwnKSB7CiAgICAgICAgc3RhdGUuZmlsdGVyQnkuY3Vpc2luZSA9ICcnOwogICAgICB9CgogICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoc3RhdGUuZmlsdGVyQnkudHh0LCAnaScpOyAvLyBtZWFscyA9IG1lYWxzLmZpbHRlcihtZWFsID0+IHJlZ2V4LnRlc3QobWVhbC50aXRsZSkpCgogICAgICBtZWFscyA9IG1lYWxzLmZpbHRlcihtZWFsID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhtZWFsLmxvYywgbWVhbC5faWQpOwogICAgICAgIHJldHVybiByZWdleC50ZXN0KG1lYWwubG9jLm5hbWUpIHx8IHJlZ2V4LnRlc3QobWVhbC50aXRsZSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gbWVhbHM7CiAgICB9CgogIH0sCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgbXV0YXRpb25zOiB7CiAgICBzZXRNZWFscyhzdGF0ZSwgewogICAgICBtZWFscwogICAgfSkgewogICAgICBzdGF0ZS5tZWFscyA9IG1lYWxzOwogICAgfSwKCiAgICBzZXRGaWx0ZXIoc3RhdGUsIHsKICAgICAgZmlsdGVyCiAgICB9KSB7CiAgICAgIHN0YXRlLmZpbHRlckJ5ID0gZmlsdGVyOwogICAgfSwKCiAgICBhZGRNZWFsKHN0YXRlLCB7CiAgICAgIHNhdmVkTWVhbAogICAgfSkgewogICAgICBzdGF0ZS5tZWFscy5wdXNoKHNhdmVkTWVhbCk7CiAgICB9LAoKICAgIGFkZEd1ZXN0cyhzdGF0ZSwgewogICAgICBtZWFsCiAgICB9KSB7CiAgICAgIGNvbnN0IHVwZGF0ZU1lYWwgPSBzdGF0ZS5tZWFscy5maW5kKG0gPT4gbS5faWQgPT09IG1lYWwuX2lkKTsKICAgICAgdXBkYXRlTWVhbC5ndWVzdHMgPSBtZWFsLmd1ZXN0czsKICAgIH0KCiAgfSwKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICBhY3Rpb25zOiB7CiAgICBhc3luYyBsb2FkTWVhbHMoY29udGV4dCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IG1lYWxzID0gYXdhaXQgTkVXbWVhbFNlcnZpY2UucXVlcnkoKTsKICAgICAgICBjb250ZXh0LmNvbW1pdCh7CiAgICAgICAgICB0eXBlOiAnc2V0TWVhbHMnLAogICAgICAgICAgbWVhbHMKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gbWVhbHM7IC8vKioqICovCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKCdlcnIgaW4gZ2V0TWVhbHMgZnVuY3Rpb246JywgZXJyKTsKICAgICAgICB0aHJvdyBlcnI7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgc2F2ZU1lYWwoewogICAgICBjb21taXQKICAgIH0sIHsKICAgICAgbWVhbAogICAgfSkgewogICAgICAvLyBjb25zdCB0eXBlID0gKG1lYWwuX2lkKSA/ICd1cGRhdGVNZWFsJyA6ICdhZGRNZWFsJwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHNhdmVkTWVhbCA9IGF3YWl0IE5FV21lYWxTZXJ2aWNlLmFkZChtZWFsKTsKICAgICAgICBjb21taXQoewogICAgICAgICAgdHlwZTogJ2FkZE1lYWwnLAogICAgICAgICAgc2F2ZWRNZWFsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHNhdmVkTWVhbDsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coJ0Nhbm5vdCBzYXZlIG1lYWwgJywgbWVhbCwgJywnLCBlcnIpOwogICAgICAgIHRocm93IGVycjsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBhZGRHdWVzdHMoewogICAgICBjb21taXQKICAgIH0sIHsKICAgICAgdXBkYXRlR3Vlc3RzCiAgICB9KSB7CiAgICAgIC8vIGNvbnN0IHR5cGUgPSAobWVhbC5faWQpID8gJ3VwZGF0ZU1lYWwnIDogJ2FkZE1lYWwnCiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgbWVhbCA9IGF3YWl0IE5FV21lYWxTZXJ2aWNlLnVwZGF0ZSh1cGRhdGVHdWVzdHMpOwogICAgICAgIGNvbW1pdCh7CiAgICAgICAgICB0eXBlOiAnYWRkR3Vlc3RzJywKICAgICAgICAgIG1lYWwKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ0Nhbm5vdCBzYXZlIG1lYWwgJywgbWVhbCwgJywnLCBlcnIpOwogICAgICAgIHRocm93IGVycjsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"sources":["C:/Users/shilo/OneDrive/שולחן העבודה/eatWith/frontend/src/store/modules/meal-store.js"],"names":["NEWmealService","state","meals","filterBy","diet","price","guests","cuisine","txt","getters","getFilter","mealsToShowHomepage","sort","a","b","host","rate","slice","mealsToShowCuisine","filter","meal","getMeals","max","toLowerCase","regex","RegExp","console","log","loc","_id","test","name","title","mutations","setMeals","setFilter","addMeal","savedMeal","push","addGuests","updateMeal","find","m","actions","loadMeals","context","query","commit","type","err","saveMeal","add","updateGuests","update"],"mappings":"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","sourcesContent":["// import { mealService } from '../../services/meal-service.js'\r\nimport { NEWmealService } from '../../services/NEW-meal-service.js'\r\n\r\nexport default {\r\n    state: {\r\n        meals: [],\r\n        filterBy: { diet: 'all', price: null, guests: {}, cuisine: '', txt: '' },\r\n    },\r\n\r\n    // ---------------------------------\r\n\r\n    getters: {\r\n        getFilter(state) {\r\n            return state.filterBy\r\n        },\r\n        mealsToShowHomepage(state) {\r\n            var mealsToShowHomepage = state.meals.sort((a, b) => {\r\n                // return b.host.rate - a.host.rate\r\n                return a.host.rate > b.host.rate ? -1 : a.host.rate < b.host.rate ? 1 : 0\r\n            })\r\n            mealsToShowHomepage = mealsToShowHomepage.slice(0, 4)\r\n            return mealsToShowHomepage\r\n        },\r\n        mealsToShowCuisine(state) {\r\n            var meals = []\r\n            meals = state.meals.filter(meal => meal.cuisine === state.filterBy.cuisine)\r\n            return meals\r\n        },\r\n\r\n        getMeals(state) {\r\n            var meals = []\r\n\r\n            if (state.filterBy.diet === 'all') meals = state.meals\r\n            else meals = state.meals.filter(meal => meal[state.filterBy.diet])\r\n\r\n            if (state.filterBy.guests.max) {\r\n                meals = meals.filter(meal => meal.guests <= state.filterBy.guests.max)\r\n            }\r\n\r\n            if (state.filterBy.price) {\r\n                meals = meals.filter(meal => meal.price > state.filterBy.price[0] && meal.price < state.filterBy.price[1])\r\n            }\r\n\r\n            if (state.filterBy.cuisine) {\r\n                meals = meals.filter(meal => meal.cuisine.toLowerCase() === state.filterBy.cuisine)\r\n            } else if (state.filterBy.cuisine === 'all') {\r\n                state.filterBy.cuisine = ''\r\n            }\r\n            const regex = new RegExp(state.filterBy.txt, 'i')\r\n            // meals = meals.filter(meal => regex.test(meal.title))\r\n            meals = meals.filter(meal => {\r\n                console.log(meal.loc, meal._id);\r\n                return regex.test(meal.loc.name)||regex.test(meal.title)})\r\n            return meals\r\n        }\r\n    },\r\n\r\n    // ---------------------------------\r\n\r\n    mutations: {\r\n        setMeals(state, { meals }) {\r\n            state.meals = meals\r\n        },\r\n\r\n        setFilter(state, { filter }) {\r\n            state.filterBy = filter\r\n        },\r\n\r\n        addMeal(state, { savedMeal }) {\r\n            state.meals.push(savedMeal);\r\n        },\r\n\r\n        addGuests(state, { meal }) {\r\n            const updateMeal = state.meals.find(m => m._id === meal._id)\r\n            updateMeal.guests = meal.guests\r\n        },\r\n\r\n\r\n\r\n    },\r\n\r\n    // ---------------------------------\r\n\r\n    actions: {\r\n        async loadMeals(context) {\r\n            try {\r\n                const meals = await NEWmealService.query()\r\n                context.commit({ type: 'setMeals', meals })\r\n                return meals//*** */\r\n            } catch (err) {\r\n                console.log('err in getMeals function:', err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n        async saveMeal({ commit }, { meal }) {\r\n            // const type = (meal._id) ? 'updateMeal' : 'addMeal'\r\n            try {\r\n                const savedMeal = await NEWmealService.add(meal)\r\n                commit({ type: 'addMeal', savedMeal })\r\n                return savedMeal\r\n            }\r\n            catch (err) {\r\n                console.log('Cannot save meal ', meal, ',', err);\r\n                throw err;\r\n            }\r\n        },\r\n\r\n        async addGuests({ commit }, { updateGuests }) {\r\n            // const type = (meal._id) ? 'updateMeal' : 'addMeal'\r\n            try {\r\n                const meal = await NEWmealService.update(updateGuests)\r\n                commit({ type: 'addGuests', meal })\r\n            }\r\n            catch (err) {\r\n                // console.log('Cannot save meal ', meal, ',', err);\r\n                throw err;\r\n            }\r\n        },\r\n\r\n    },\r\n\r\n\r\n}"]}]}