{"remainingRequest":"C:\\Users\\shani.VOICESENSE\\Documents\\CodingAcademy\\Ex-Submissions\\Shani Herzinger\\eat-with\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shani.VOICESENSE\\Documents\\CodingAcademy\\Ex-Submissions\\Shani Herzinger\\eat-with\\frontend\\src\\store\\modules\\user-store.js","dependencies":[{"path":"C:\\Users\\shani.VOICESENSE\\Documents\\CodingAcademy\\Ex-Submissions\\Shani Herzinger\\eat-with\\frontend\\src\\store\\modules\\user-store.js","mtime":1627235850728},{"path":"C:\\Users\\shani.VOICESENSE\\Documents\\CodingAcademy\\Ex-Submissions\\Shani Herzinger\\eat-with\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626260724928},{"path":"C:\\Users\\shani.VOICESENSE\\Documents\\CodingAcademy\\Ex-Submissions\\Shani Herzinger\\eat-with\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1626260715884}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IHsgdXNlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2VyLXNlcnZpY2UuanMnCmltcG9ydCB7IE5FV3VzZXJTZXJ2aWNlIH0gZnJvbSAiLi4vLi4vc2VydmljZXMvTkVXLXVzZXItc2VydmljZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgbG9nZ2VkaW5Vc2VyOiBORVd1c2VyU2VydmljZS5nZXRMb2dnZWRpblVzZXIoKSAvLyB1c2VyczogW10sCiAgICAvLyB3YXRjaGVkVXNlcjogbnVsbAoKICB9LAogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIGdldHRlcnM6IHsKICAgIC8vIHVzZXJzKHsgdXNlcnMgfSkgeyByZXR1cm4gdXNlcnMgfSwKICAgIC8vIGxvZ2dlZGluVXNlcih7IGxvZ2dlZGluVXNlciB9KSB7IHJldHVybiBsb2dnZWRpblVzZXIgfQogICAgbG9nZ2VkaW5Vc2VyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5sb2dnZWRpblVzZXI7CiAgICB9IC8vIHdhdGNoZWRVc2VyKHsgd2F0Y2hlZFVzZXIgfSkgeyByZXR1cm4gd2F0Y2hlZFVzZXIgfQoKCiAgfSwKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICBtdXRhdGlvbnM6IHsKICAgIHNldExvZ2dlZGluVXNlcihzdGF0ZSwgewogICAgICB1c2VyCiAgICB9KSB7CiAgICAgIHN0YXRlLmxvZ2dlZGluVXNlciA9IHVzZXI7CiAgICAgIGNvbnNvbGUubG9nKCdzdG9yZScsIHVzZXIpOwogICAgfSAvLyBzZXRXYXRjaGVkVXNlcihzdGF0ZSwgeyB1c2VyIH0pIHsKICAgIC8vICAgICBzdGF0ZS53YXRjaGVkVXNlciA9IHVzZXI7CiAgICAvLyB9LCAgICAgICAKICAgIC8vIHNldFVzZXJzKHN0YXRlLCB7IHVzZXJzIH0pIHsKICAgIC8vICAgICBzdGF0ZS51c2VycyA9IHVzZXJzOwogICAgLy8gfSwKICAgIC8vIHNldFVzZXIoc3RhdGUsIHsgdXNlciB9KSB7CiAgICAvLyAgICAgc3RhdGUubG9nZ2VkaW5Vc2VyID0gdXNlcjsKICAgIC8vIH0sCiAgICAvLyByZW1vdmVVc2VyKHN0YXRlLCB7IHVzZXJJZCB9KSB7CiAgICAvLyAgICAgc3RhdGUudXNlcnMgPSBzdGF0ZS51c2Vycy5maWx0ZXIodXNlciA9PiB1c2VyLl9pZCAhPT0gdXNlcklkKQogICAgLy8gfSwKCgogIH0sCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgYWN0aW9uczogewogICAgYXN5bmMgc2lnbnVwKHsKICAgICAgY29tbWl0CiAgICB9LCB7CiAgICAgIHVzZXJDcmVkCiAgICB9KSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IE5FV3VzZXJTZXJ2aWNlLnNpZ251cCh1c2VyQ3JlZCk7CiAgICAgICAgY29tbWl0KHsKICAgICAgICAgIHR5cGU6ICdzZXRMb2dnZWRpblVzZXInLAogICAgICAgICAgdXNlcgogICAgICAgIH0pOwogICAgICAgIHJldHVybiB1c2VyOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZygndXNlclN0b3JlOiBFcnJvciBpbiBzaWdudXAnLCBlcnIpOwogICAgICAgIHRocm93IGVycjsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBsb2dpbih7CiAgICAgIGNvbW1pdAogICAgfSwgewogICAgICB1c2VyQ3JlZAogICAgfSkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBORVd1c2VyU2VydmljZS5sb2dpbih1c2VyQ3JlZCk7CiAgICAgICAgY29tbWl0KHsKICAgICAgICAgIHR5cGU6ICdzZXRMb2dnZWRpblVzZXInLAogICAgICAgICAgdXNlcgogICAgICAgIH0pOwogICAgICAgIHJldHVybiB1c2VyOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZygndXNlclN0b3JlOiBFcnJvciBpbiBsb2dpbicsIGVycik7CiAgICAgICAgdGhyb3cgZXJyOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIGxvZ291dCh7CiAgICAgIGNvbW1pdAogICAgfSkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IGxvZ291dCA9IGF3YWl0IHVzZXJTZXJ2aWNlLmxvZ291dCgpOwogICAgICAgIGNvbW1pdCh7CiAgICAgICAgICB0eXBlOiAnc2V0TG9nZ2VkaW5Vc2VyJywKICAgICAgICAgIHVzZXI6IG51bGwKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gbG9nb3V0Lm1zZzsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coJ3VzZXJTdG9yZTogRXJyb3IgaW4gbG9nb3V0JywgZXJyKTsKICAgICAgICB0aHJvdyBlcnI7CiAgICAgIH0KICAgIH0gLy8gYXN5bmMgbG9hZFVzZXJzKHsgY29tbWl0IH0pIHsKICAgIC8vICAgICB0cnkgewogICAgLy8gICAgICAgICBjb25zdCB1c2VycyA9IGF3YWl0IHVzZXJTZXJ2aWNlLmdldFVzZXJzKCk7CiAgICAvLyAgICAgICAgIGNvbW1pdCh7IHR5cGU6ICdzZXRVc2VycycsIHVzZXJzIH0pCiAgICAvLyAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyU3RvcmU6IEVycm9yIGluIGxvYWRVc2VycycsIGVycikKICAgIC8vICAgICAgICAgdGhyb3cgZXJyCiAgICAvLyAgICAgfQogICAgLy8gfSwgICAgICAgIAogICAgLy8gYXN5bmMgbG9hZEFuZFdhdGNoVXNlcih7IGNvbW1pdCB9LCB7IHVzZXJJZCB9KSB7CiAgICAvLyAgICAgdHJ5IHsKICAgIC8vICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJTZXJ2aWNlLmdldEJ5SWQodXNlcklkKTsKICAgIC8vICAgICAgICAgY29tbWl0KHsgdHlwZTogJ3NldFdhdGNoZWRVc2VyJywgdXNlciB9KQogICAgLy8gICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoU09DS0VUX0VNSVRfVVNFUl9XQVRDSCwgdXNlcklkKSAKICAgIC8vICAgICAgICAgc29ja2V0U2VydmljZS5vZmYoU09DS0VUX0VWRU5UX1VTRVJfVVBEQVRFRCkKICAgIC8vICAgICAgICAgc29ja2V0U2VydmljZS5vbihTT0NLRVRfRVZFTlRfVVNFUl9VUERBVEVELCB1c2VyID0+IHsKICAgIC8vICAgICAgICAgICAgIGNvbW1pdCh7IHR5cGU6ICdzZXRXYXRjaGVkVXNlcicsIHVzZXIgfSkKICAgIC8vICAgICAgICAgfSkKICAgIC8vICAgICB9IGNhdGNoIChlcnIpIHsKICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ3VzZXJTdG9yZTogRXJyb3IgaW4gbG9hZEFuZFdhdGNoVXNlcicsIGVycikKICAgIC8vICAgICAgICAgdGhyb3cgZXJyCiAgICAvLyAgICAgfQogICAgLy8gfSwKICAgIC8vIGFzeW5jIHJlbW92ZVVzZXIoeyBjb21taXQgfSwgeyB1c2VySWQgfSkgewogICAgLy8gICAgIHRyeSB7CiAgICAvLyAgICAgICAgIGF3YWl0IHVzZXJTZXJ2aWNlLnJlbW92ZSh1c2VySWQpOwogICAgLy8gICAgICAgICBjb21taXQoeyB0eXBlOiAncmVtb3ZlVXNlcicsIHVzZXJJZCB9KQogICAgLy8gICAgIH0gY2F0Y2ggKGVycikgewogICAgLy8gICAgICAgICBjb25zb2xlLmxvZygndXNlclN0b3JlOiBFcnJvciBpbiByZW1vdmVVc2VyJywgZXJyKQogICAgLy8gICAgICAgICB0aHJvdyBlcnIKICAgIC8vICAgICB9CiAgICAvLyB9LAogICAgLy8gYXN5bmMgdXBkYXRlVXNlcih7IGNvbW1pdCB9LCB7IHVzZXIgfSkgewogICAgLy8gICAgIHRyeSB7CiAgICAvLyAgICAgICAgIHVzZXIgPSBhd2FpdCB1c2VyU2VydmljZS51cGRhdGUodXNlcik7CiAgICAvLyAgICAgICAgIGNvbW1pdCh7IHR5cGU6ICdzZXRVc2VyJywgdXNlciB9KQogICAgLy8gICAgIH0gY2F0Y2ggKGVycikgewogICAgLy8gICAgICAgICBjb25zb2xlLmxvZygndXNlclN0b3JlOiBFcnJvciBpbiB1cGRhdGVVc2VyJywgZXJyKQogICAgLy8gICAgICAgICB0aHJvdyBlcnIKICAgIC8vICAgICB9CiAgICAvLyB9CgoKICB9Cn07"},{"version":3,"sources":["C:/Users/shani.VOICESENSE/Documents/CodingAcademy/Ex-Submissions/Shani Herzinger/eat-with/frontend/src/store/modules/user-store.js"],"names":["NEWuserService","state","loggedinUser","getLoggedinUser","getters","mutations","setLoggedinUser","user","console","log","actions","signup","commit","userCred","type","err","login","logout","userService","msg"],"mappings":"AAAA;AACA,SAASA,cAAT,QAA+B,oCAA/B;AAEA,eAAe;AAEXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,YAAY,EAAEF,cAAc,CAACG,eAAf,EADX,CAEH;AACA;;AAHG,GAFI;AAQX;AAEAC,EAAAA,OAAO,EAAE;AACL;AACA;AACAF,IAAAA,YAAY,CAACD,KAAD,EAAQ;AAChB,aAAOA,KAAK,CAACC,YAAb;AACH,KALI,CAML;;;AANK,GAVE;AAkBX;AAEAG,EAAAA,SAAS,EAAE;AACPC,IAAAA,eAAe,CAACL,KAAD,EAAQ;AAAEM,MAAAA;AAAF,KAAR,EAAkB;AAC7BN,MAAAA,KAAK,CAACC,YAAN,GAAqBK,IAArB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,IAArB;AACH,KAJM,CAKP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAhBO,GApBA;AAuCX;AAEAG,EAAAA,OAAO,EAAE;AACL,UAAMC,MAAN,CAAa;AAAEC,MAAAA;AAAF,KAAb,EAAyB;AAAEC,MAAAA;AAAF,KAAzB,EAAuC;AACnC,UAAI;AACA,cAAMN,IAAI,GAAG,MAAMP,cAAc,CAACW,MAAf,CAAsBE,QAAtB,CAAnB;AACAD,QAAAA,MAAM,CAAC;AAAEE,UAAAA,IAAI,EAAE,iBAAR;AAA2BP,UAAAA;AAA3B,SAAD,CAAN;AACA,eAAOA,IAAP;AACH,OAJD,CAIE,OAAOQ,GAAP,EAAY;AACVP,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CM,GAA1C;AACA,cAAMA,GAAN;AACH;AACJ,KAVI;;AAYL,UAAMC,KAAN,CAAY;AAAEJ,MAAAA;AAAF,KAAZ,EAAwB;AAAEC,MAAAA;AAAF,KAAxB,EAAsC;AAClC,UAAI;AACA,cAAMN,IAAI,GAAG,MAAMP,cAAc,CAACgB,KAAf,CAAqBH,QAArB,CAAnB;AACAD,QAAAA,MAAM,CAAC;AAAEE,UAAAA,IAAI,EAAE,iBAAR;AAA2BP,UAAAA;AAA3B,SAAD,CAAN;AACA,eAAOA,IAAP;AACH,OAJD,CAIE,OAAOQ,GAAP,EAAY;AACVP,QAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCM,GAAzC;AACA,cAAMA,GAAN;AACH;AACJ,KArBI;;AAuBL,UAAME,MAAN,CAAa;AAAEL,MAAAA;AAAF,KAAb,EAAyB;AACrB,UAAI;AACA,cAAMK,MAAM,GAAC,MAAMC,WAAW,CAACD,MAAZ,EAAnB;AACAL,QAAAA,MAAM,CAAC;AAAEE,UAAAA,IAAI,EAAE,iBAAR;AAA2BP,UAAAA,IAAI,EAAE;AAAjC,SAAD,CAAN;AACD,eAAOU,MAAM,CAACE,GAAd;AACF,OAJD,CAIE,OAAOJ,GAAP,EAAY;AACVP,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CM,GAA1C;AACA,cAAMA,GAAN;AACH;AACJ,KAhCI,CAiCL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AA1EK;AAzCE,CAAf","sourcesContent":["// import { userService } from '../../services/user-service.js'\r\nimport { NEWuserService } from \"../../services/NEW-user-service.js\"\r\n\r\nexport default {\r\n\r\n    state: {\r\n        loggedinUser: NEWuserService.getLoggedinUser(),\r\n        // users: [],\r\n        // watchedUser: null\r\n    },\r\n\r\n    // ---------------------------------\r\n\r\n    getters: {\r\n        // users({ users }) { return users },\r\n        // loggedinUser({ loggedinUser }) { return loggedinUser }\r\n        loggedinUser(state) {\r\n            return state.loggedinUser\r\n        }\r\n        // watchedUser({ watchedUser }) { return watchedUser }\r\n    },\r\n    // ---------------------------------\r\n\r\n    mutations: {\r\n        setLoggedinUser(state, { user }) {\r\n            state.loggedinUser = user;\r\n            console.log('store', user);\r\n        },\r\n        // setWatchedUser(state, { user }) {\r\n        //     state.watchedUser = user;\r\n        // },       \r\n        // setUsers(state, { users }) {\r\n        //     state.users = users;\r\n        // },\r\n        // setUser(state, { user }) {\r\n        //     state.loggedinUser = user;\r\n        // },\r\n        // removeUser(state, { userId }) {\r\n        //     state.users = state.users.filter(user => user._id !== userId)\r\n        // },\r\n    },\r\n\r\n    // ---------------------------------\r\n\r\n    actions: {\r\n        async signup({ commit }, { userCred }) {\r\n            try {\r\n                const user = await NEWuserService.signup(userCred)\r\n                commit({ type: 'setLoggedinUser', user })\r\n                return user;\r\n            } catch (err) {\r\n                console.log('userStore: Error in signup', err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n        async login({ commit }, { userCred }) {\r\n            try {\r\n                const user = await NEWuserService.login(userCred);\r\n                commit({ type: 'setLoggedinUser', user })\r\n                return user;\r\n            } catch (err) {\r\n                console.log('userStore: Error in login', err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n        async logout({ commit }) {\r\n            try {\r\n                const logout=await userService.logout()\r\n                commit({ type: 'setLoggedinUser', user: null })\r\n               return logout.msg\r\n            } catch (err) {\r\n                console.log('userStore: Error in logout', err)\r\n                throw err\r\n            }\r\n        },\r\n        // async loadUsers({ commit }) {\r\n        //     try {\r\n        //         const users = await userService.getUsers();\r\n        //         commit({ type: 'setUsers', users })\r\n        //     } catch (err) {\r\n        //         console.log('userStore: Error in loadUsers', err)\r\n        //         throw err\r\n        //     }\r\n        // },        \r\n        // async loadAndWatchUser({ commit }, { userId }) {\r\n        //     try {\r\n        //         const user = await userService.getById(userId);\r\n        //         commit({ type: 'setWatchedUser', user })\r\n        //         socketService.emit(SOCKET_EMIT_USER_WATCH, userId) \r\n        //         socketService.off(SOCKET_EVENT_USER_UPDATED)\r\n        //         socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\r\n        //             commit({ type: 'setWatchedUser', user })\r\n        //         })\r\n        //     } catch (err) {\r\n        //         console.log('userStore: Error in loadAndWatchUser', err)\r\n        //         throw err\r\n        //     }\r\n        // },\r\n        // async removeUser({ commit }, { userId }) {\r\n        //     try {\r\n        //         await userService.remove(userId);\r\n        //         commit({ type: 'removeUser', userId })\r\n        //     } catch (err) {\r\n        //         console.log('userStore: Error in removeUser', err)\r\n        //         throw err\r\n        //     }\r\n        // },\r\n        // async updateUser({ commit }, { user }) {\r\n        //     try {\r\n        //         user = await userService.update(user);\r\n        //         commit({ type: 'setUser', user })\r\n        //     } catch (err) {\r\n        //         console.log('userStore: Error in updateUser', err)\r\n        //         throw err\r\n        //     }\r\n\r\n        // }\r\n\r\n\r\n    },\r\n}"]}]}