{"remainingRequest":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\src\\store\\modules\\order-store.js","dependencies":[{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\src\\store\\modules\\order-store.js","mtime":1626859976909},{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626765022900},{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1626765019750}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgb3JkZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvb3JkZXItc2VydmljZS5qcyc7CmltcG9ydCB7IE5FV29yZGVyU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL05FVy1vcmRlci1zZXJ2aWNlLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiB7CiAgICBvcmRlcnM6IFtdCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBvcmRlcnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm9yZGVyczsKICAgIH0sCgogICAgb3JkZXJzVG9TaG93KHN0YXRlKSB7CiAgICAgIGNvbnNvbGUubG9nKHN0YXRlLm9yZGVycyk7IC8vIGNvbnNvbGUubG9nKHRoaXMudXNlcik7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMub3JkZXJzKTsKICAgICAgLy8gY29uc3Qgb3JkZXJzID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5vcmRlcnM7CiAgICAgIC8vIHJldHVybiB0aGlzLm9yZGVycy5maWx0ZXIoKG9yZGVyKSA9PiBvcmRlci5idXllci5faWQgPT09IHRoaXMudXNlci5faWQpOwogICAgfQoKICB9LAogIG11dGF0aW9uczogewogICAgdXBkYXRlT3JkZXIoc3RhdGUsIHsKICAgICAgb3JkZXIKICAgIH0pIHsKICAgICAgdmFyIGlkeCA9IHN0YXRlLm9yZGVycy5maW5kSW5kZXgoY3Vyck9yZGVyID0+IGN1cnJPcmRlci5faWQgPT09IG9yZGVyLl9pZCk7CiAgICAgIHN0YXRlLm9yZGVycy5zcGxpY2UoaWR4LCAxLCBvcmRlcik7CiAgICB9LAoKICAgIGFkZE9yZGVyKHN0YXRlLCB7CiAgICAgIG9yZGVyCiAgICB9KSB7CiAgICAgIHN0YXRlLm9yZGVycy5wdXNoKG9yZGVyKTsKICAgIH0sCgogICAgc2V0T3JkZXJzKHN0YXRlLCB7CiAgICAgIG9yZGVycwogICAgfSkgewogICAgICBzdGF0ZS5vcmRlcnMgPSBvcmRlcnM7CiAgICB9LAoKICAgIHNldFVzZXJPcmRlcnMoc3RhdGUsIHsKICAgICAgdXNlcgogICAgfSkgewogICAgICBjb25zb2xlLmxvZygndXNlcnVzZXInLCB1c2VyKTsKICAgICAgY29uc29sZS5sb2coJ3N0YXRlLm9yZGVycycsIHN0YXRlLm9yZGVycyk7CiAgICB9CgogIH0sCiAgYWN0aW9uczogewogICAgYXN5bmMgc2F2ZU9yZGVyKHsKICAgICAgY29tbWl0CiAgICB9LCBwYXlsb2FkKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdHlwZSA9IHBheWxvYWQub3JkZXIuX2lkID8gJ3VwZGF0ZU9yZGVyJyA6ICdhZGRPcmRlcic7IC8vIGNvbnN0IHNhdmVkT3JkZXIgPSBhd2FpdCBvcmRlclNlcnZpY2Uuc2F2ZShwYXlsb2FkLm9yZGVyKQoKICAgICAgICBjb25zdCBzYXZlZE9yZGVyID0gYXdhaXQgTkVXb3JkZXJTZXJ2aWNlLmFkZChwYXlsb2FkLm9yZGVyKTsKICAgICAgICBjb21taXQoewogICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgIG9yZGVyOiBwYXlsb2FkLm9yZGVyCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHNhdmVkT3JkZXI7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKCdjYW5udG90IHNhdmUgb3JkZXInLCBwYXlsb2FkLm9yZGVyLCBlcnIpOwogICAgICAgIHRocm93IGVycjsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBsb2FkT3JkZXJzKHsKICAgICAgY29tbWl0CiAgICB9KSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgTkVXb3JkZXJTZXJ2aWNlLnF1ZXJ5KCk7CiAgICAgICAgY29tbWl0KHsKICAgICAgICAgIHR5cGU6ICdzZXRPcmRlcnMnLAogICAgICAgICAgb3JkZXJzCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIG9yZGVyczsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coJ2VyciBpbiBsb2FkT3JkZXJzIGZ1bmN0aW9uOicsIGVycik7CiAgICAgICAgdGhyb3cgZXJyOwogICAgICB9CiAgICB9CgogIH0KfTs="},{"version":3,"sources":["C:/Users/shilo/OneDrive/שולחן העבודה/eatWith/frontend/src/store/modules/order-store.js"],"names":["orderService","NEWorderService","state","orders","getters","ordersToShow","console","log","mutations","updateOrder","order","idx","findIndex","currOrder","_id","splice","addOrder","push","setOrders","setUserOrders","user","actions","saveOrder","commit","payload","type","savedOrder","add","err","loadOrders","query"],"mappings":"AAAA,SAASA,YAAT,QAA6B,iCAA7B;AACA,SAASC,eAAT,QAAgC,qCAAhC;AAEA,eAAe;AACXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAE;AADL,GADI;AAKXC,EAAAA,OAAO,EAAE;AACLD,IAAAA,MAAM,CAACD,KAAD,EAAQ;AACV,aAAOA,KAAK,CAACC,MAAb;AACH,KAHI;;AAKLE,IAAAA,YAAY,CAACH,KAAD,EAAQ;AAChBI,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACC,MAAlB,EADgB,CAEhB;AACA;AACA;AACA;AACH;;AAXI,GALE;AAoBXK,EAAAA,SAAS,EAAE;AACPC,IAAAA,WAAW,CAACP,KAAD,EAAQ;AAAEQ,MAAAA;AAAF,KAAR,EAAmB;AAC1B,UAAIC,GAAG,GAAGT,KAAK,CAACC,MAAN,CAAaS,SAAb,CAAuBC,SAAS,IAAIA,SAAS,CAACC,GAAV,KAAkBJ,KAAK,CAACI,GAA5D,CAAV;AACAZ,MAAAA,KAAK,CAACC,MAAN,CAAaY,MAAb,CAAoBJ,GAApB,EAAyB,CAAzB,EAA4BD,KAA5B;AACH,KAJM;;AAKPM,IAAAA,QAAQ,CAACd,KAAD,EAAQ;AAAEQ,MAAAA;AAAF,KAAR,EAAmB;AACvBR,MAAAA,KAAK,CAACC,MAAN,CAAac,IAAb,CAAkBP,KAAlB;AACH,KAPM;;AASPQ,IAAAA,SAAS,CAAChB,KAAD,EAAQ;AAAEC,MAAAA;AAAF,KAAR,EAAoB;AACzBD,MAAAA,KAAK,CAACC,MAAN,GAAeA,MAAf;AACH,KAXM;;AAaPgB,IAAAA,aAAa,CAACjB,KAAD,EAAQ;AAAEkB,MAAAA;AAAF,KAAR,EAAkB;AAC3Bd,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBa,IAAxB;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BL,KAAK,CAACC,MAAlC;AACH;;AAhBM,GApBA;AAwCXkB,EAAAA,OAAO,EAAE;AACL,UAAMC,SAAN,CAAgB;AAAEC,MAAAA;AAAF,KAAhB,EAA4BC,OAA5B,EAAqC;AACjC,UAAI;AACA,cAAMC,IAAI,GAAID,OAAO,CAACd,KAAR,CAAcI,GAAf,GAAsB,aAAtB,GAAsC,UAAnD,CADA,CAEA;;AACA,cAAMY,UAAU,GAAG,MAAMzB,eAAe,CAAC0B,GAAhB,CAAoBH,OAAO,CAACd,KAA5B,CAAzB;AACAa,QAAAA,MAAM,CAAC;AAAEE,UAAAA,IAAI,EAAEA,IAAR;AAAcf,UAAAA,KAAK,EAAEc,OAAO,CAACd;AAA7B,SAAD,CAAN;AACA,eAAOgB,UAAP;AAEH,OAPD,CAOE,OAAOE,GAAP,EAAY;AACVtB,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCiB,OAAO,CAACd,KAA1C,EAAiDkB,GAAjD;AACA,cAAMA,GAAN;AACH;AACJ,KAbI;;AAeL,UAAMC,UAAN,CAAiB;AAAEN,MAAAA;AAAF,KAAjB,EAA6B;AACzB,UAAI;AACA,cAAMpB,MAAM,GAAG,MAAMF,eAAe,CAAC6B,KAAhB,EAArB;AACAP,QAAAA,MAAM,CAAC;AAAEE,UAAAA,IAAI,EAAE,WAAR;AAAqBtB,UAAAA;AAArB,SAAD,CAAN;AACA,eAAOA,MAAP;AACH,OAJD,CAIE,OAAOyB,GAAP,EAAY;AACVtB,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CqB,GAA3C;AACA,cAAMA,GAAN;AACH;AACJ;;AAxBI;AAxCE,CAAf","sourcesContent":["import { orderService } from '../../services/order-service.js'\r\nimport { NEWorderService } from '../../services/NEW-order-service.js'\r\n\r\nexport default {\r\n    state: {\r\n        orders: [],\r\n    },\r\n\r\n    getters: {\r\n        orders(state) {\r\n            return state.orders\r\n        },\r\n\r\n        ordersToShow(state) {\r\n            console.log(state.orders);\r\n            // console.log(this.user);\r\n            // console.log(this.orders);\r\n            // const orders = this.$store.getters.orders;\r\n            // return this.orders.filter((order) => order.buyer._id === this.user._id);\r\n        },\r\n\r\n    },\r\n\r\n    mutations: {\r\n        updateOrder(state, { order }) {\r\n            var idx = state.orders.findIndex(currOrder => currOrder._id === order._id)\r\n            state.orders.splice(idx, 1, order)\r\n        },\r\n        addOrder(state, { order }) {\r\n            state.orders.push(order)\r\n        },\r\n\r\n        setOrders(state, { orders }) {\r\n            state.orders = orders\r\n        },\r\n\r\n        setUserOrders(state, { user }) {\r\n            console.log('useruser', user);\r\n            console.log('state.orders', state.orders);\r\n        }\r\n\r\n    },\r\n\r\n    actions: {\r\n        async saveOrder({ commit }, payload) {\r\n            try {\r\n                const type = (payload.order._id) ? 'updateOrder' : 'addOrder';\r\n                // const savedOrder = await orderService.save(payload.order)\r\n                const savedOrder = await NEWorderService.add(payload.order)\r\n                commit({ type: type, order: payload.order })\r\n                return savedOrder\r\n\r\n            } catch (err) {\r\n                console.log('canntot save order', payload.order, err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n        async loadOrders({ commit }) {\r\n            try {\r\n                const orders = await NEWorderService.query()\r\n                commit({ type: 'setOrders', orders })\r\n                return orders\r\n            } catch (err) {\r\n                console.log('err in loadOrders function:', err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n\r\n    }\r\n}"]}]}