{"remainingRequest":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\src\\services\\http.service.js","dependencies":[{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\src\\services\\http.service.js","mtime":1626773824837},{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626765022900},{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1626765019750}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgcm91dGVyIH0gZnJvbSAnQC9yb3V0ZXInOwpjb25zdCBCQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyAnL2FwaS8nIDogJy8vbG9jYWxob3N0OjMwMzAvYXBpLyc7CnZhciBheGlvcyA9IEF4aW9zLmNyZWF0ZSh7CiAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCn0pOwpleHBvcnQgY29uc3QgaHR0cFNlcnZpY2UgPSB7CiAgZ2V0KGVuZHBvaW50LCBkYXRhKSB7CiAgICByZXR1cm4gYWpheChlbmRwb2ludCwgJ0dFVCcsIGRhdGEpOwogIH0sCgogIHBvc3QoZW5kcG9pbnQsIGRhdGEpIHsKICAgIHJldHVybiBhamF4KGVuZHBvaW50LCAnUE9TVCcsIGRhdGEpOwogIH0sCgogIHB1dChlbmRwb2ludCwgZGF0YSkgewogICAgcmV0dXJuIGFqYXgoZW5kcG9pbnQsICdQVVQnLCBkYXRhKTsKICB9LAoKICBkZWxldGUoZW5kcG9pbnQsIGRhdGEpIHsKICAgIHJldHVybiBhamF4KGVuZHBvaW50LCAnREVMRVRFJywgZGF0YSk7CiAgfQoKfTsKCmFzeW5jIGZ1bmN0aW9uIGFqYXgoZW5kcG9pbnQsIG1ldGhvZCA9ICdHRVQnLCBkYXRhID0gbnVsbCkgewogIHRyeSB7CiAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcyh7CiAgICAgIHVybDogYCR7QkFTRV9VUkx9JHtlbmRwb2ludH1gLAogICAgICBtZXRob2QsCiAgICAgIGRhdGEsCiAgICAgIHBhcmFtczogbWV0aG9kID09PSAnR0VUJyA/IGRhdGEgOiBudWxsCiAgICB9KTsKICAgIHJldHVybiByZXMuZGF0YTsKICB9IGNhdGNoIChlcnIpIHsKICAgIGNvbnNvbGUubG9nKGBIYWQgSXNzdWVzICR7bWV0aG9kfWluZyB0byB0aGUgYmFja2VuZCwgZW5kcG9pbnQ6ICR7ZW5kcG9pbnR9LCB3aXRoIGRhdGE6ICR7ZGF0YX1gKTsKICAgIGNvbnNvbGUuZGlyKGVycik7CgogICAgaWYgKGVyci5yZXNwb25zZSAmJiBlcnIucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgLy8gRGVwZW5kcyBvbiByb3V0aW5nIHN0YXJ0ZWd5IC0gaGFzaCBvciBoaXN0b3J5CiAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJy8jL2xvZ2luJykKICAgICAgLy8gd2luZG93LmxvY2F0aW9uLmFzc2lnbignL2xvZ2luJykKICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgfQoKICAgIHRocm93IGVycjsKICB9Cn0="},{"version":3,"sources":["C:/Users/shilo/OneDrive/שולחן העבודה/eatWith/frontend/src/services/http.service.js"],"names":["Axios","router","BASE_URL","process","env","NODE_ENV","axios","create","withCredentials","httpService","get","endpoint","data","ajax","post","put","delete","method","res","url","params","err","console","log","dir","response","status","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,QAAqB,UAArB;AAEA,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACX,OADW,GAEX,uBAFN;AAKA,IAAIC,KAAK,GAAGN,KAAK,CAACO,MAAN,CAAa;AACrBC,EAAAA,eAAe,EAAE;AADI,CAAb,CAAZ;AAIA,OAAO,MAAMC,WAAW,GAAG;AACvBC,EAAAA,GAAG,CAACC,QAAD,EAAWC,IAAX,EAAiB;AAChB,WAAOC,IAAI,CAACF,QAAD,EAAW,KAAX,EAAkBC,IAAlB,CAAX;AACH,GAHsB;;AAIvBE,EAAAA,IAAI,CAACH,QAAD,EAAWC,IAAX,EAAiB;AACjB,WAAOC,IAAI,CAACF,QAAD,EAAW,MAAX,EAAmBC,IAAnB,CAAX;AACH,GANsB;;AAOvBG,EAAAA,GAAG,CAACJ,QAAD,EAAWC,IAAX,EAAiB;AAChB,WAAOC,IAAI,CAACF,QAAD,EAAW,KAAX,EAAkBC,IAAlB,CAAX;AACH,GATsB;;AAUvBI,EAAAA,MAAM,CAACL,QAAD,EAAWC,IAAX,EAAiB;AACnB,WAAOC,IAAI,CAACF,QAAD,EAAW,QAAX,EAAqBC,IAArB,CAAX;AACH;;AAZsB,CAApB;;AAeP,eAAeC,IAAf,CAAoBF,QAApB,EAA8BM,MAAM,GAAG,KAAvC,EAA8CL,IAAI,GAAG,IAArD,EAA2D;AACvD,MAAI;AACA,UAAMM,GAAG,GAAG,MAAMZ,KAAK,CAAC;AACpBa,MAAAA,GAAG,EAAG,GAAEjB,QAAS,GAAES,QAAS,EADR;AAEpBM,MAAAA,MAFoB;AAGpBL,MAAAA,IAHoB;AAIpBQ,MAAAA,MAAM,EAAGH,MAAM,KAAK,KAAZ,GAAqBL,IAArB,GAA4B;AAJhB,KAAD,CAAvB;AAMA,WAAOM,GAAG,CAACN,IAAX;AACH,GARD,CAQE,OAAOS,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAa,cAAaN,MAAO,iCAAgCN,QAAS,gBAAeC,IAAK,EAA9F;AACAU,IAAAA,OAAO,CAACE,GAAR,CAAYH,GAAZ;;AACA,QAAIA,GAAG,CAACI,QAAJ,IAAgBJ,GAAG,CAACI,QAAJ,CAAaC,MAAb,KAAwB,GAA5C,EAAiD;AAC7C;AACA;AACA;AACAzB,MAAAA,MAAM,CAAC0B,IAAP,CAAY,QAAZ;AACH;;AACD,UAAMN,GAAN;AACH;AACJ","sourcesContent":["import Axios from 'axios'\r\nimport {router} from '@/router'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            // Depends on routing startegy - hash or history\r\n            // window.location.assign('/#/login')\r\n            // window.location.assign('/login')\r\n            router.push('/login')\r\n        }\r\n        throw err\r\n    }\r\n}"]}]}