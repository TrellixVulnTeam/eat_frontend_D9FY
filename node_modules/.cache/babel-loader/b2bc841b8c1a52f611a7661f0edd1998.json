{"remainingRequest":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\src\\store\\modules\\order-store.js","dependencies":[{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\src\\store\\modules\\order-store.js","mtime":1626765051009},{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626765022900},{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1626765019750}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgb3JkZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvb3JkZXItc2VydmljZS5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgb3JkZXJzOiBbXQogIH0sCiAgZ2V0dGVyczogewogICAgb3JkZXJzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5vcmRlcnM7CiAgICB9CgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICB1cGRhdGVPcmRlcihzdGF0ZSwgewogICAgICBvcmRlcgogICAgfSkgewogICAgICB2YXIgaWR4ID0gc3RhdGUub3JkZXJzLmZpbmRJbmRleChjdXJyT3JkZXIgPT4gY3Vyck9yZGVyLl9pZCA9PT0gb3JkZXIuX2lkKTsKICAgICAgc3RhdGUub3JkZXJzLnNwbGljZShpZHgsIDEsIG9yZGVyKTsKICAgIH0sCgogICAgYWRkT3JkZXIoc3RhdGUsIHsKICAgICAgb3JkZXIKICAgIH0pIHsKICAgICAgc3RhdGUub3JkZXJzLnB1c2gob3JkZXIpOwogICAgfSwKCiAgICBzZXRPcmRlcnMoc3RhdGUsIHsKICAgICAgb3JkZXJzCiAgICB9KSB7CiAgICAgIHN0YXRlLm9yZGVycyA9IG9yZGVyczsKICAgIH0KCiAgfSwKICBhY3Rpb25zOiB7CiAgICBhc3luYyBzYXZlT3JkZXIoewogICAgICBjb21taXQKICAgIH0sIHBheWxvYWQpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCB0eXBlID0gcGF5bG9hZC5vcmRlci5faWQgPyAndXBkYXRlT3JkZXInIDogJ2FkZE9yZGVyJzsKICAgICAgICBjb25zdCBzYXZlZE9yZGVyID0gYXdhaXQgb3JkZXJTZXJ2aWNlLnNhdmUocGF5bG9hZC5vcmRlcik7CiAgICAgICAgY29tbWl0KHsKICAgICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgICBvcmRlcjogcGF5bG9hZC5vcmRlcgogICAgICAgIH0pOwogICAgICAgIHJldHVybiBzYXZlZE9yZGVyOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZygnY2FubnRvdCBzYXZlIG9yZGVyJywgcGF5bG9hZC5vcmRlciwgZXJyKTsKICAgICAgICB0aHJvdyBlcnI7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgbG9hZE9yZGVycyh7CiAgICAgIGNvbW1pdAogICAgfSkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IG9yZGVyU2VydmljZS5xdWVyeSgpOwogICAgICAgIGNvbW1pdCh7CiAgICAgICAgICB0eXBlOiAnc2V0T3JkZXJzJywKICAgICAgICAgIG9yZGVycwogICAgICAgIH0pOyAvLyByZXR1cm4gb3JkZXJzCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKCdlcnIgaW4gbG9hZE9yZGVycyBmdW5jdGlvbjonLCBlcnIpOwogICAgICAgIHRocm93IGVycjsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"sources":["C:/Users/shilo/OneDrive/שולחן העבודה/eatWith/frontend/src/store/modules/order-store.js"],"names":["orderService","state","orders","getters","mutations","updateOrder","order","idx","findIndex","currOrder","_id","splice","addOrder","push","setOrders","actions","saveOrder","commit","payload","type","savedOrder","save","err","console","log","loadOrders","query"],"mappings":"AAAA,SAASA,YAAT,QAA6B,iCAA7B;AAGA,eAAe;AACXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAE;AADL,GADI;AAMXC,EAAAA,OAAO,EAAE;AACLD,IAAAA,MAAM,CAACD,KAAD,EAAQ;AACV,aAAOA,KAAK,CAACC,MAAb;AACH;;AAHI,GANE;AAYXE,EAAAA,SAAS,EAAE;AACPC,IAAAA,WAAW,CAACJ,KAAD,EAAQ;AAAEK,MAAAA;AAAF,KAAR,EAAmB;AAC1B,UAAIC,GAAG,GAAGN,KAAK,CAACC,MAAN,CAAaM,SAAb,CAAuBC,SAAS,IAAIA,SAAS,CAACC,GAAV,KAAkBJ,KAAK,CAACI,GAA5D,CAAV;AACAT,MAAAA,KAAK,CAACC,MAAN,CAAaS,MAAb,CAAoBJ,GAApB,EAAyB,CAAzB,EAA4BD,KAA5B;AACH,KAJM;;AAKPM,IAAAA,QAAQ,CAACX,KAAD,EAAQ;AAAEK,MAAAA;AAAF,KAAR,EAAmB;AACvBL,MAAAA,KAAK,CAACC,MAAN,CAAaW,IAAb,CAAkBP,KAAlB;AACH,KAPM;;AASPQ,IAAAA,SAAS,CAACb,KAAD,EAAQ;AAAEC,MAAAA;AAAF,KAAR,EAAoB;AACzBD,MAAAA,KAAK,CAACC,MAAN,GAAeA,MAAf;AACH;;AAXM,GAZA;AA2BXa,EAAAA,OAAO,EAAE;AACL,UAAMC,SAAN,CAAgB;AAAEC,MAAAA;AAAF,KAAhB,EAA4BC,OAA5B,EAAqC;AACjC,UAAI;AACA,cAAMC,IAAI,GAAID,OAAO,CAACZ,KAAR,CAAcI,GAAf,GAAsB,aAAtB,GAAsC,UAAnD;AACA,cAAMU,UAAU,GAAG,MAAMpB,YAAY,CAACqB,IAAb,CAAkBH,OAAO,CAACZ,KAA1B,CAAzB;AACAW,QAAAA,MAAM,CAAC;AAAEE,UAAAA,IAAI,EAAEA,IAAR;AAAcb,UAAAA,KAAK,EAAEY,OAAO,CAACZ;AAA7B,SAAD,CAAN;AACA,eAAOc,UAAP;AAEH,OAND,CAME,OAAOE,GAAP,EAAY;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCN,OAAO,CAACZ,KAA1C,EAAiDgB,GAAjD;AACA,cAAMA,GAAN;AACH;AACJ,KAZI;;AAcL,UAAMG,UAAN,CAAiB;AAAER,MAAAA;AAAF,KAAjB,EAA4B;AACxB,UAAI;AACA,cAAMf,MAAM,GAAG,MAAMF,YAAY,CAAC0B,KAAb,EAArB;AACAT,QAAAA,MAAM,CAAC;AAAEE,UAAAA,IAAI,EAAE,WAAR;AAAqBjB,UAAAA;AAArB,SAAD,CAAN,CAFA,CAGA;AACH,OAJD,CAIE,OAAOoB,GAAP,EAAY;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CF,GAA3C;AACA,cAAMA,GAAN;AACH;AACJ;;AAvBI;AA3BE,CAAf","sourcesContent":["import { orderService } from '../../services/order-service.js'\r\n\r\n\r\nexport default {\r\n    state: {\r\n        orders: []\r\n\r\n    },\r\n\r\n    getters: {\r\n        orders(state) {\r\n            return state.orders\r\n        }\r\n    },\r\n    \r\n    mutations: {\r\n        updateOrder(state, { order }) {\r\n            var idx = state.orders.findIndex(currOrder => currOrder._id === order._id)\r\n            state.orders.splice(idx, 1, order)\r\n        },\r\n        addOrder(state, { order }) {\r\n            state.orders.push(order)\r\n        },\r\n        \r\n        setOrders(state, { orders }) {\r\n            state.orders = orders\r\n        },\r\n\r\n    },\r\n\r\n    actions: {\r\n        async saveOrder({ commit }, payload) {\r\n            try {\r\n                const type = (payload.order._id) ? 'updateOrder' : 'addOrder';\r\n                const savedOrder = await orderService.save(payload.order)\r\n                commit({ type: type, order: payload.order })\r\n                return savedOrder\r\n\r\n            } catch (err) {\r\n                console.log('canntot save order', payload.order, err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n        async loadOrders({ commit}) {\r\n            try {\r\n                const orders = await orderService.query()\r\n                commit({ type: 'setOrders', orders })\r\n                // return orders\r\n            } catch (err) {\r\n                console.log('err in loadOrders function:', err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n    }\r\n}"]}]}