{"remainingRequest":"C:\\Users\\shani.VOICESENSE\\Documents\\CodingAcademy\\Ex-Submissions\\Shani Herzinger\\Day54-65-Sprint4\\eat-with\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shani.VOICESENSE\\Documents\\CodingAcademy\\Ex-Submissions\\Shani Herzinger\\Day54-65-Sprint4\\eat-with\\src\\services\\order-service.js","dependencies":[{"path":"C:\\Users\\shani.VOICESENSE\\Documents\\CodingAcademy\\Ex-Submissions\\Shani Herzinger\\Day54-65-Sprint4\\eat-with\\src\\services\\order-service.js","mtime":1626462732238},{"path":"C:\\Users\\shani.VOICESENSE\\Documents\\CodingAcademy\\Ex-Submissions\\Shani Herzinger\\Day54-65-Sprint4\\eat-with\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626260724928},{"path":"C:\\Users\\shani.VOICESENSE\\Documents\\CodingAcademy\\Ex-Submissions\\Shani Herzinger\\Day54-65-Sprint4\\eat-with\\node_modules\\babel-loader\\lib\\index.js","mtime":1626260715884}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYXN5bmNTdG9yYWdlU2VydmljZSB9IGZyb20gIi4vYXN5bmMtc3RvcmFnZS1zZXJ2aWNlLmpzIjsKaW1wb3J0IHsgdXRpbCB9IGZyb20gIi4uL3NlcnZpY2VzL3V0aWwuanMiOwpleHBvcnQgY29uc3Qgb3JkZXJTZXJ2aWNlID0gewogIHF1ZXJ5LAogIHJlbW92ZSwKICBzYXZlLAogIGdldEJ5SWQKfTsKY29uc3QgU1RPUkFHRV9LRVkgPSAnb3JkZXInOwoKZnVuY3Rpb24gcXVlcnkoKSB7CiAgaWYgKCF1dGlsLmxvYWRGcm9tU3RvcmFnZShTVE9SQUdFX0tFWSkgfHwgIXV0aWwubG9hZEZyb21TdG9yYWdlKFNUT1JBR0VfS0VZKS5sZW5ndGgpIHsKICAgIGNyZWF0ZU9yZGVycygpOwogICAgcmV0dXJuIGFzeW5jU3RvcmFnZVNlcnZpY2UucXVlcnkoU1RPUkFHRV9LRVkpOwogIH0KCiAgcmV0dXJuIGFzeW5jU3RvcmFnZVNlcnZpY2UucXVlcnkoU1RPUkFHRV9LRVkpOwp9CgpmdW5jdGlvbiBnZXRCeUlkKGlkKSB7CiAgcmV0dXJuIGFzeW5jU3RvcmFnZVNlcnZpY2UuZ2V0KFNUT1JBR0VfS0VZLCBpZCk7Cn0KCmZ1bmN0aW9uIHJlbW92ZShpZCkgewogIHJldHVybiBhc3luY1N0b3JhZ2VTZXJ2aWNlLnJlbW92ZShTVE9SQUdFX0tFWSwgaWQpOwp9CgpmdW5jdGlvbiBzYXZlKG9yZGVyKSB7CiAgaWYgKG9yZGVyLl9pZCkgewogICAgcmV0dXJuIGFzeW5jU3RvcmFnZVNlcnZpY2UucHV0KFNUT1JBR0VfS0VZLCBvcmRlcik7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhc3luY1N0b3JhZ2VTZXJ2aWNlLnBvc3QoU1RPUkFHRV9LRVksIG9yZGVyKTsKICB9Cn0KCmZ1bmN0aW9uIGNyZWF0ZU9yZGVycygpIHsKICBjb25zdCBvcmRlcnMgPSBbY3JlYXRlT3JkZXIoJ1lhbGxhJywgJ3UxMDEnLCAnYXNpYW4nLCA0LCAxKSwgY3JlYXRlT3JkZXIoJ2t2YXInLCAndTEwMicsICdhc2lhbicsIDUsIDIpLCBjcmVhdGVPcmRlcignQm9hbycsICd1MTAzJywgJ2FzaWFuJywgMiwgMyksIGNyZWF0ZU9yZGVyKCdObCcsICd1MTA0JywgJ2FzaWFuJywgNCwgNCksIGNyZWF0ZU9yZGVyKCdNb3NoZScsICd1MTA1JywgJ2FzaWFuJywgNCwgNSksIGNyZWF0ZU9yZGVyKCdZb3NzaScsICd1MTA2JywgJ2FzaWFuJywgNSwgNiksIGNyZWF0ZU9yZGVyKCdOYWwnLCAndTEwNycsICdhbWVyaWNhbicsIDIsIDcpLCBjcmVhdGVPcmRlcignTmF0JywgJ3UxMDgnLCAndGhhaScsIDEsIDgpLCBjcmVhdGVPcmRlcignWWFsbGEnLCAndTEwMScsICdjemVjaG9zbG92YWsnKV07CiAgdXRpbC5zYXZlVG9TdG9yYWdlKFNUT1JBR0VfS0VZLCBvcmRlcnMpOwp9CgpmdW5jdGlvbiBjcmVhdGVPcmRlcih0aXRsZSwgaWQsIGN1aXNpbmUsIHJhdGUsIGltZ1VybCkgewogIGNvbnN0IG9yZGVyID0gewogICAgX2lkOiB1dGlsLm1ha2VJZCgpLAogICAgdGl0bGUsCiAgICBwcmljZTogdXRpbC5nZXRSbmRJbnRlZ2VyKDUsIDE1MDApLAogICAgdmVnZXRlcmlhbjogdXRpbC5yYW5kb21CdWxpZWFuKCksCiAgICB2ZWdhbjogdXRpbC5yYW5kb21CdWxpZWFuKCksCiAgICBkaWV0OiB1dGlsLnJhbmRvbUJ1bGllYW4oKSwKICAgIGd1ZXN0czogdXRpbC5nZXRSbmRJbnRlZ2VyKDEsIDI1KSwKICAgIGN1aXNpbmUsCiAgICBob3N0OiB7CiAgICAgIF9pZDogaWQsCiAgICAgIHJhdGUsCiAgICAgIGZ1bGxuYW1lOiAiRHVkdSBEYSIsCiAgICAgIGltZ1VybAogICAgfSwKICAgIGxvYzogewogICAgICBuYW1lOiAiUGFyaXMiLAogICAgICBsYXQ6IDMyLjk4OTgsCiAgICAgIGxuZzogMTIuMjgKICAgIH0KICB9OwogIHJldHVybiBvcmRlcjsKfQ=="},{"version":3,"sources":["C:/Users/shani.VOICESENSE/Documents/CodingAcademy/Ex-Submissions/Shani Herzinger/Day54-65-Sprint4/eat-with/src/services/order-service.js"],"names":["asyncStorageService","util","orderService","query","remove","save","getById","STORAGE_KEY","loadFromStorage","length","createOrders","id","get","order","_id","put","post","orders","createOrder","saveToStorage","title","cuisine","rate","imgUrl","makeId","price","getRndInteger","vegeterian","randomBuliean","vegan","diet","guests","host","fullname","loc","name","lat","lng"],"mappings":"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","sourcesContent":["import { asyncStorageService } from \"./async-storage-service.js\"\r\nimport { util } from \"../services/util.js\"\r\n\r\nexport const orderService = {\r\n    query,\r\n    remove,\r\n    save,\r\n    getById\r\n}\r\n\r\nconst STORAGE_KEY = 'order'\r\n\r\n\r\nfunction query() {\r\n    if (!util.loadFromStorage(STORAGE_KEY) || !util.loadFromStorage(STORAGE_KEY).length) {\r\n        createOrders()\r\n        return asyncStorageService.query(STORAGE_KEY)\r\n    }\r\n    return asyncStorageService.query(STORAGE_KEY)\r\n}\r\n\r\nfunction getById(id) {\r\n    return asyncStorageService.get(STORAGE_KEY, id)\r\n}\r\n\r\nfunction remove(id) {\r\n    return asyncStorageService.remove(STORAGE_KEY, id)\r\n}\r\n\r\nfunction save(order) {\r\n    if (order._id) {\r\n        return asyncStorageService.put(STORAGE_KEY, order)\r\n    }\r\n    else {\r\n        return asyncStorageService.post(STORAGE_KEY, order)\r\n    }\r\n}\r\n\r\nfunction createOrders() {\r\n    const orders = [\r\n        createOrder('Yalla', 'u101', 'asian', 4, 1),\r\n        createOrder('kvar', 'u102', 'asian', 5, 2),\r\n        createOrder('Boao', 'u103', 'asian', 2, 3),\r\n        createOrder('Nl', 'u104', 'asian', 4, 4),\r\n        createOrder('Moshe', 'u105', 'asian', 4, 5),\r\n        createOrder('Yossi', 'u106', 'asian', 5, 6),\r\n        createOrder('Nal', 'u107', 'american', 2, 7),\r\n        createOrder('Nat', 'u108', 'thai', 1, 8),\r\n        createOrder('Yalla', 'u101', 'czechoslovak'),\r\n    ]\r\n    util.saveToStorage(STORAGE_KEY, orders)\r\n}\r\n\r\nfunction createOrder(title, id, cuisine, rate, imgUrl) {\r\n    const order = {\r\n        _id: util.makeId(),\r\n        title,\r\n        price: util.getRndInteger(5, 1500),\r\n        vegeterian: util.randomBuliean(),\r\n        vegan: util.randomBuliean(),\r\n        diet: util.randomBuliean(),\r\n        guests: util.getRndInteger(1, 25),\r\n        cuisine,\r\n        host: {\r\n            _id: id,\r\n            rate,\r\n            fullname: \"Dudu Da\",\r\n            imgUrl,\r\n        },\r\n        loc: {\r\n            name: \"Paris\",\r\n            lat: 32.9898,\r\n            lng: 12.28\r\n        },\r\n    }\r\n    return order\r\n}\r\n"]}]}