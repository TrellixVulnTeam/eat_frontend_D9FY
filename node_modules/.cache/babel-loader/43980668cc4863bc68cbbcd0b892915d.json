{"remainingRequest":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\src\\store\\modules\\user-store.js","dependencies":[{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\src\\store\\modules\\user-store.js","mtime":1626797440215},{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626765022900},{"path":"C:\\Users\\shilo\\OneDrive\\שולחן העבודה\\eatWith\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1626765019750}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2VyLXNlcnZpY2UuanMnOwppbXBvcnQgeyBORVd1c2VyU2VydmljZSB9IGZyb20gIi4uLy4uL3NlcnZpY2VzL05FVy11c2VyLXNlcnZpY2UuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHsKICAgIGxvZ2dlZGluVXNlcjogTkVXdXNlclNlcnZpY2UuZ2V0TG9nZ2VkaW5Vc2VyKCkgLy8gdXNlcnM6IFtdLAogICAgLy8gd2F0Y2hlZFVzZXI6IG51bGwKCiAgfSwKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICBnZXR0ZXJzOiB7CiAgICAvLyB1c2Vycyh7IHVzZXJzIH0pIHsgcmV0dXJuIHVzZXJzIH0sCiAgICAvLyBsb2dnZWRpblVzZXIoeyBsb2dnZWRpblVzZXIgfSkgeyByZXR1cm4gbG9nZ2VkaW5Vc2VyIH0KICAgIGxvZ2dlZGluVXNlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9nZ2VkaW5Vc2VyOwogICAgfSAvLyB3YXRjaGVkVXNlcih7IHdhdGNoZWRVc2VyIH0pIHsgcmV0dXJuIHdhdGNoZWRVc2VyIH0KCgogIH0sCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgbXV0YXRpb25zOiB7CiAgICBzZXRMb2dnZWRpblVzZXIoc3RhdGUsIHsKICAgICAgdXNlcgogICAgfSkgewogICAgICBzdGF0ZS5sb2dnZWRpblVzZXIgPSB1c2VyOwogICAgICBjb25zb2xlLmxvZygnc3RvcmUnLCB1c2VyKTsKICAgIH0gLy8gc2V0V2F0Y2hlZFVzZXIoc3RhdGUsIHsgdXNlciB9KSB7CiAgICAvLyAgICAgc3RhdGUud2F0Y2hlZFVzZXIgPSB1c2VyOwogICAgLy8gfSwgICAgICAgCiAgICAvLyBzZXRVc2VycyhzdGF0ZSwgeyB1c2VycyB9KSB7CiAgICAvLyAgICAgc3RhdGUudXNlcnMgPSB1c2VyczsKICAgIC8vIH0sCiAgICAvLyBzZXRVc2VyKHN0YXRlLCB7IHVzZXIgfSkgewogICAgLy8gICAgIHN0YXRlLmxvZ2dlZGluVXNlciA9IHVzZXI7CiAgICAvLyB9LAogICAgLy8gcmVtb3ZlVXNlcihzdGF0ZSwgeyB1c2VySWQgfSkgewogICAgLy8gICAgIHN0YXRlLnVzZXJzID0gc3RhdGUudXNlcnMuZmlsdGVyKHVzZXIgPT4gdXNlci5faWQgIT09IHVzZXJJZCkKICAgIC8vIH0sCgoKICB9LAogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIGFjdGlvbnM6IHsKICAgIGFzeW5jIHNpZ251cCh7CiAgICAgIGNvbW1pdAogICAgfSwgewogICAgICB1c2VyQ3JlZAogICAgfSkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBORVd1c2VyU2VydmljZS5zaWdudXAodXNlckNyZWQpOwogICAgICAgIGNvbW1pdCh7CiAgICAgICAgICB0eXBlOiAnc2V0TG9nZ2VkaW5Vc2VyJywKICAgICAgICAgIHVzZXIKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdXNlcjsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coJ3VzZXJTdG9yZTogRXJyb3IgaW4gc2lnbnVwJywgZXJyKTsKICAgICAgICB0aHJvdyBlcnI7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgbG9naW4oewogICAgICBjb21taXQKICAgIH0sIHsKICAgICAgdXNlckNyZWQKICAgIH0pIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgTkVXdXNlclNlcnZpY2UubG9naW4odXNlckNyZWQpOwogICAgICAgIGNvbW1pdCh7CiAgICAgICAgICB0eXBlOiAnc2V0TG9nZ2VkaW5Vc2VyJywKICAgICAgICAgIHVzZXIKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdXNlcjsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coJ3VzZXJTdG9yZTogRXJyb3IgaW4gbG9naW4nLCBlcnIpOwogICAgICAgIHRocm93IGVycjsKICAgICAgfQogICAgfSAvLyBhc3luYyBsb2dvdXQoeyBjb21taXQgfSkgewogICAgLy8gICAgIHRyeSB7CiAgICAvLyAgICAgICAgIGNvbnN0IGxvZ291dD1hd2FpdCB1c2VyU2VydmljZS5sb2dvdXQoKQogICAgLy8gICAgICAgICBjb21taXQoeyB0eXBlOiAnc2V0TG9nZ2VkaW5Vc2VyJywgdXNlcjogbnVsbCB9KQogICAgLy8gICAgICAgIHJldHVybiBsb2dvdXQubXNnCiAgICAvLyAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyU3RvcmU6IEVycm9yIGluIGxvZ291dCcsIGVycikKICAgIC8vICAgICAgICAgdGhyb3cgZXJyCiAgICAvLyAgICAgfQogICAgLy8gfSwKICAgIC8vIGFzeW5jIGxvYWRVc2Vycyh7IGNvbW1pdCB9KSB7CiAgICAvLyAgICAgdHJ5IHsKICAgIC8vICAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCB1c2VyU2VydmljZS5nZXRVc2VycygpOwogICAgLy8gICAgICAgICBjb21taXQoeyB0eXBlOiAnc2V0VXNlcnMnLCB1c2VycyB9KQogICAgLy8gICAgIH0gY2F0Y2ggKGVycikgewogICAgLy8gICAgICAgICBjb25zb2xlLmxvZygndXNlclN0b3JlOiBFcnJvciBpbiBsb2FkVXNlcnMnLCBlcnIpCiAgICAvLyAgICAgICAgIHRocm93IGVycgogICAgLy8gICAgIH0KICAgIC8vIH0sICAgICAgICAKICAgIC8vIGFzeW5jIGxvYWRBbmRXYXRjaFVzZXIoeyBjb21taXQgfSwgeyB1c2VySWQgfSkgewogICAgLy8gICAgIHRyeSB7CiAgICAvLyAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyU2VydmljZS5nZXRCeUlkKHVzZXJJZCk7CiAgICAvLyAgICAgICAgIGNvbW1pdCh7IHR5cGU6ICdzZXRXYXRjaGVkVXNlcicsIHVzZXIgfSkKICAgIC8vICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFNPQ0tFVF9FTUlUX1VTRVJfV0FUQ0gsIHVzZXJJZCkgCiAgICAvLyAgICAgICAgIHNvY2tldFNlcnZpY2Uub2ZmKFNPQ0tFVF9FVkVOVF9VU0VSX1VQREFURUQpCiAgICAvLyAgICAgICAgIHNvY2tldFNlcnZpY2Uub24oU09DS0VUX0VWRU5UX1VTRVJfVVBEQVRFRCwgdXNlciA9PiB7CiAgICAvLyAgICAgICAgICAgICBjb21taXQoeyB0eXBlOiAnc2V0V2F0Y2hlZFVzZXInLCB1c2VyIH0pCiAgICAvLyAgICAgICAgIH0pCiAgICAvLyAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyU3RvcmU6IEVycm9yIGluIGxvYWRBbmRXYXRjaFVzZXInLCBlcnIpCiAgICAvLyAgICAgICAgIHRocm93IGVycgogICAgLy8gICAgIH0KICAgIC8vIH0sCiAgICAvLyBhc3luYyByZW1vdmVVc2VyKHsgY29tbWl0IH0sIHsgdXNlcklkIH0pIHsKICAgIC8vICAgICB0cnkgewogICAgLy8gICAgICAgICBhd2FpdCB1c2VyU2VydmljZS5yZW1vdmUodXNlcklkKTsKICAgIC8vICAgICAgICAgY29tbWl0KHsgdHlwZTogJ3JlbW92ZVVzZXInLCB1c2VySWQgfSkKICAgIC8vICAgICB9IGNhdGNoIChlcnIpIHsKICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ3VzZXJTdG9yZTogRXJyb3IgaW4gcmVtb3ZlVXNlcicsIGVycikKICAgIC8vICAgICAgICAgdGhyb3cgZXJyCiAgICAvLyAgICAgfQogICAgLy8gfSwKICAgIC8vIGFzeW5jIHVwZGF0ZVVzZXIoeyBjb21taXQgfSwgeyB1c2VyIH0pIHsKICAgIC8vICAgICB0cnkgewogICAgLy8gICAgICAgICB1c2VyID0gYXdhaXQgdXNlclNlcnZpY2UudXBkYXRlKHVzZXIpOwogICAgLy8gICAgICAgICBjb21taXQoeyB0eXBlOiAnc2V0VXNlcicsIHVzZXIgfSkKICAgIC8vICAgICB9IGNhdGNoIChlcnIpIHsKICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ3VzZXJTdG9yZTogRXJyb3IgaW4gdXBkYXRlVXNlcicsIGVycikKICAgIC8vICAgICAgICAgdGhyb3cgZXJyCiAgICAvLyAgICAgfQogICAgLy8gfQoKCiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/shilo/OneDrive/שולחן העבודה/eatWith/frontend/src/store/modules/user-store.js"],"names":["userService","NEWuserService","state","loggedinUser","getLoggedinUser","getters","mutations","setLoggedinUser","user","console","log","actions","signup","commit","userCred","type","err","login"],"mappings":"AAAA,SAASA,WAAT,QAA4B,gCAA5B;AACA,SAASC,cAAT,QAA+B,oCAA/B;AAEA,eAAe;AAEXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,YAAY,EAAEF,cAAc,CAACG,eAAf,EADX,CAEH;AACA;;AAHG,GAFI;AAQX;AAEAC,EAAAA,OAAO,EAAE;AACL;AACA;AACAF,IAAAA,YAAY,CAACD,KAAD,EAAQ;AAChB,aAAOA,KAAK,CAACC,YAAb;AACH,KALI,CAML;;;AANK,GAVE;AAkBX;AAEAG,EAAAA,SAAS,EAAE;AACPC,IAAAA,eAAe,CAACL,KAAD,EAAQ;AAAEM,MAAAA;AAAF,KAAR,EAAkB;AAC7BN,MAAAA,KAAK,CAACC,YAAN,GAAqBK,IAArB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,IAArB;AACH,KAJM,CAKP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAhBO,GApBA;AAuCX;AAEAG,EAAAA,OAAO,EAAE;AACL,UAAMC,MAAN,CAAa;AAAEC,MAAAA;AAAF,KAAb,EAAyB;AAAEC,MAAAA;AAAF,KAAzB,EAAuC;AACnC,UAAI;AACA,cAAMN,IAAI,GAAG,MAAMP,cAAc,CAACW,MAAf,CAAsBE,QAAtB,CAAnB;AACAD,QAAAA,MAAM,CAAC;AAAEE,UAAAA,IAAI,EAAE,iBAAR;AAA2BP,UAAAA;AAA3B,SAAD,CAAN;AACA,eAAOA,IAAP;AACH,OAJD,CAIE,OAAOQ,GAAP,EAAY;AACVP,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CM,GAA1C;AACA,cAAMA,GAAN;AACH;AACJ,KAVI;;AAYL,UAAMC,KAAN,CAAY;AAAEJ,MAAAA;AAAF,KAAZ,EAAwB;AAAEC,MAAAA;AAAF,KAAxB,EAAsC;AAClC,UAAI;AACA,cAAMN,IAAI,GAAG,MAAMP,cAAc,CAACgB,KAAf,CAAqBH,QAArB,CAAnB;AACAD,QAAAA,MAAM,CAAC;AAAEE,UAAAA,IAAI,EAAE,iBAAR;AAA2BP,UAAAA;AAA3B,SAAD,CAAN;AACA,eAAOA,IAAP;AACH,OAJD,CAIE,OAAOQ,GAAP,EAAY;AACVP,QAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCM,GAAzC;AACA,cAAMA,GAAN;AACH;AACJ,KArBI,CAuBL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AA1EK;AAzCE,CAAf","sourcesContent":["import { userService } from '../../services/user-service.js'\r\nimport { NEWuserService } from \"../../services/NEW-user-service.js\"\r\n\r\nexport default {\r\n\r\n    state: {\r\n        loggedinUser: NEWuserService.getLoggedinUser(),\r\n        // users: [],\r\n        // watchedUser: null\r\n    },\r\n\r\n    // ---------------------------------\r\n\r\n    getters: {\r\n        // users({ users }) { return users },\r\n        // loggedinUser({ loggedinUser }) { return loggedinUser }\r\n        loggedinUser(state) {\r\n            return state.loggedinUser\r\n        }\r\n        // watchedUser({ watchedUser }) { return watchedUser }\r\n    },\r\n    // ---------------------------------\r\n\r\n    mutations: {\r\n        setLoggedinUser(state, { user }) {\r\n            state.loggedinUser = user;\r\n            console.log('store', user);\r\n        },\r\n        // setWatchedUser(state, { user }) {\r\n        //     state.watchedUser = user;\r\n        // },       \r\n        // setUsers(state, { users }) {\r\n        //     state.users = users;\r\n        // },\r\n        // setUser(state, { user }) {\r\n        //     state.loggedinUser = user;\r\n        // },\r\n        // removeUser(state, { userId }) {\r\n        //     state.users = state.users.filter(user => user._id !== userId)\r\n        // },\r\n    },\r\n\r\n    // ---------------------------------\r\n\r\n    actions: {\r\n        async signup({ commit }, { userCred }) {\r\n            try {\r\n                const user = await NEWuserService.signup(userCred)\r\n                commit({ type: 'setLoggedinUser', user })\r\n                return user;\r\n            } catch (err) {\r\n                console.log('userStore: Error in signup', err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n        async login({ commit }, { userCred }) {\r\n            try {\r\n                const user = await NEWuserService.login(userCred);\r\n                commit({ type: 'setLoggedinUser', user })\r\n                return user;\r\n            } catch (err) {\r\n                console.log('userStore: Error in login', err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n        // async logout({ commit }) {\r\n        //     try {\r\n        //         const logout=await userService.logout()\r\n        //         commit({ type: 'setLoggedinUser', user: null })\r\n        //        return logout.msg\r\n        //     } catch (err) {\r\n        //         console.log('userStore: Error in logout', err)\r\n        //         throw err\r\n        //     }\r\n        // },\r\n        // async loadUsers({ commit }) {\r\n        //     try {\r\n        //         const users = await userService.getUsers();\r\n        //         commit({ type: 'setUsers', users })\r\n        //     } catch (err) {\r\n        //         console.log('userStore: Error in loadUsers', err)\r\n        //         throw err\r\n        //     }\r\n        // },        \r\n        // async loadAndWatchUser({ commit }, { userId }) {\r\n        //     try {\r\n        //         const user = await userService.getById(userId);\r\n        //         commit({ type: 'setWatchedUser', user })\r\n        //         socketService.emit(SOCKET_EMIT_USER_WATCH, userId) \r\n        //         socketService.off(SOCKET_EVENT_USER_UPDATED)\r\n        //         socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\r\n        //             commit({ type: 'setWatchedUser', user })\r\n        //         })\r\n        //     } catch (err) {\r\n        //         console.log('userStore: Error in loadAndWatchUser', err)\r\n        //         throw err\r\n        //     }\r\n        // },\r\n        // async removeUser({ commit }, { userId }) {\r\n        //     try {\r\n        //         await userService.remove(userId);\r\n        //         commit({ type: 'removeUser', userId })\r\n        //     } catch (err) {\r\n        //         console.log('userStore: Error in removeUser', err)\r\n        //         throw err\r\n        //     }\r\n        // },\r\n        // async updateUser({ commit }, { user }) {\r\n        //     try {\r\n        //         user = await userService.update(user);\r\n        //         commit({ type: 'setUser', user })\r\n        //     } catch (err) {\r\n        //         console.log('userStore: Error in updateUser', err)\r\n        //         throw err\r\n        //     }\r\n\r\n        // }\r\n\r\n\r\n    },\r\n}"]}]}