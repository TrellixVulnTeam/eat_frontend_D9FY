{"remainingRequest":"C:\\Users\\olyamv\\Desktop\\eatwith-vol-2\\eat_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\olyamv\\Desktop\\eatwith-vol-2\\eat_frontend\\src\\store\\modules\\order-store.js","dependencies":[{"path":"C:\\Users\\olyamv\\Desktop\\eatwith-vol-2\\eat_frontend\\src\\store\\modules\\order-store.js","mtime":1626849078942},{"path":"C:\\Users\\olyamv\\Desktop\\eatwith-vol-2\\eat_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626707063654},{"path":"C:\\Users\\olyamv\\Desktop\\eatwith-vol-2\\eat_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1626707062686}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgb3JkZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvb3JkZXItc2VydmljZS5qcyc7CmltcG9ydCB7IE5FV29yZGVyU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL05FVy1vcmRlci1zZXJ2aWNlLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiB7CiAgICBvcmRlcnM6IFtdCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBvcmRlcnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm9yZGVyczsKICAgIH0KCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHVwZGF0ZU9yZGVyKHN0YXRlLCB7CiAgICAgIG9yZGVyCiAgICB9KSB7CiAgICAgIHZhciBpZHggPSBzdGF0ZS5vcmRlcnMuZmluZEluZGV4KGN1cnJPcmRlciA9PiBjdXJyT3JkZXIuX2lkID09PSBvcmRlci5faWQpOwogICAgICBzdGF0ZS5vcmRlcnMuc3BsaWNlKGlkeCwgMSwgb3JkZXIpOwogICAgfSwKCiAgICBhZGRPcmRlcihzdGF0ZSwgewogICAgICBvcmRlcgogICAgfSkgewogICAgICBzdGF0ZS5vcmRlcnMucHVzaChvcmRlcik7CiAgICB9LAoKICAgIHNldE9yZGVycyhzdGF0ZSwgewogICAgICBvcmRlcnMKICAgIH0pIHsKICAgICAgc3RhdGUub3JkZXJzID0gb3JkZXJzOwogICAgfSwKCiAgICBzZXRVc2VyT3JkZXJzKHN0YXRlLCB7CiAgICAgIHVzZXIKICAgIH0pIHsKICAgICAgY29uc29sZS5sb2coJ3VzZXJ1c2VyJywgdXNlcik7CiAgICAgIGNvbnNvbGUubG9nKCdzdGF0ZS5vcmRlcnMnLCBzdGF0ZS5vcmRlcnMpOwogICAgfQoKICB9LAogIGFjdGlvbnM6IHsKICAgIGFzeW5jIHNhdmVPcmRlcih7CiAgICAgIGNvbW1pdAogICAgfSwgcGF5bG9hZCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHR5cGUgPSBwYXlsb2FkLm9yZGVyLl9pZCA/ICd1cGRhdGVPcmRlcicgOiAnYWRkT3JkZXInOyAvLyBjb25zdCBzYXZlZE9yZGVyID0gYXdhaXQgb3JkZXJTZXJ2aWNlLnNhdmUocGF5bG9hZC5vcmRlcikKCiAgICAgICAgY29uc3Qgc2F2ZWRPcmRlciA9IGF3YWl0IE5FV29yZGVyU2VydmljZS5hZGQocGF5bG9hZC5vcmRlcik7CiAgICAgICAgY29tbWl0KHsKICAgICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgICBvcmRlcjogcGF5bG9hZC5vcmRlcgogICAgICAgIH0pOwogICAgICAgIHJldHVybiBzYXZlZE9yZGVyOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZygnY2FubnRvdCBzYXZlIG9yZGVyJywgcGF5bG9hZC5vcmRlciwgZXJyKTsKICAgICAgICB0aHJvdyBlcnI7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgbG9hZE9yZGVycyh7CiAgICAgIGNvbW1pdAogICAgfSkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE5FV29yZGVyU2VydmljZS5xdWVyeSgpOwogICAgICAgIGNvbW1pdCh7CiAgICAgICAgICB0eXBlOiAnc2V0T3JkZXJzJywKICAgICAgICAgIG9yZGVycwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBvcmRlcnM7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKCdlcnIgaW4gbG9hZE9yZGVycyBmdW5jdGlvbjonLCBlcnIpOwogICAgICAgIHRocm93IGVycjsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"sources":["C:/Users/olyamv/Desktop/eatwith-vol-2/eat_frontend/src/store/modules/order-store.js"],"names":["orderService","NEWorderService","state","orders","getters","mutations","updateOrder","order","idx","findIndex","currOrder","_id","splice","addOrder","push","setOrders","setUserOrders","user","console","log","actions","saveOrder","commit","payload","type","savedOrder","add","err","loadOrders","query"],"mappings":"AAAA,SAASA,YAAT,QAA6B,iCAA7B;AACA,SAASC,eAAT,QAAgC,qCAAhC;AAEA,eAAe;AACXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAE;AADL,GADI;AAKXC,EAAAA,OAAO,EAAE;AACLD,IAAAA,MAAM,CAACD,KAAD,EAAQ;AACV,aAAOA,KAAK,CAACC,MAAb;AACH;;AAHI,GALE;AAYXE,EAAAA,SAAS,EAAE;AACPC,IAAAA,WAAW,CAACJ,KAAD,EAAQ;AAAEK,MAAAA;AAAF,KAAR,EAAmB;AAC1B,UAAIC,GAAG,GAAGN,KAAK,CAACC,MAAN,CAAaM,SAAb,CAAuBC,SAAS,IAAIA,SAAS,CAACC,GAAV,KAAkBJ,KAAK,CAACI,GAA5D,CAAV;AACAT,MAAAA,KAAK,CAACC,MAAN,CAAaS,MAAb,CAAoBJ,GAApB,EAAyB,CAAzB,EAA4BD,KAA5B;AACH,KAJM;;AAKPM,IAAAA,QAAQ,CAACX,KAAD,EAAQ;AAAEK,MAAAA;AAAF,KAAR,EAAmB;AACvBL,MAAAA,KAAK,CAACC,MAAN,CAAaW,IAAb,CAAkBP,KAAlB;AACH,KAPM;;AASPQ,IAAAA,SAAS,CAACb,KAAD,EAAQ;AAAEC,MAAAA;AAAF,KAAR,EAAoB;AACzBD,MAAAA,KAAK,CAACC,MAAN,GAAeA,MAAf;AACH,KAXM;;AAaPa,IAAAA,aAAa,CAACd,KAAD,EAAQ;AAAEe,MAAAA;AAAF,KAAR,EAAkB;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,IAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BjB,KAAK,CAACC,MAAlC;AACH;;AAhBM,GAZA;AAgCXiB,EAAAA,OAAO,EAAE;AACL,UAAMC,SAAN,CAAgB;AAAEC,MAAAA;AAAF,KAAhB,EAA4BC,OAA5B,EAAqC;AACjC,UAAI;AACA,cAAMC,IAAI,GAAID,OAAO,CAAChB,KAAR,CAAcI,GAAf,GAAsB,aAAtB,GAAsC,UAAnD,CADA,CAEA;;AACA,cAAMc,UAAU,GAAG,MAAMxB,eAAe,CAACyB,GAAhB,CAAoBH,OAAO,CAAChB,KAA5B,CAAzB;AACAe,QAAAA,MAAM,CAAC;AAAEE,UAAAA,IAAI,EAAEA,IAAR;AAAcjB,UAAAA,KAAK,EAAEgB,OAAO,CAAChB;AAA7B,SAAD,CAAN;AACA,eAAOkB,UAAP;AAEH,OAPD,CAOE,OAAOE,GAAP,EAAY;AACVT,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCI,OAAO,CAAChB,KAA1C,EAAiDoB,GAAjD;AACA,cAAMA,GAAN;AACH;AACJ,KAbI;;AAeL,UAAMC,UAAN,CAAiB;AAAEN,MAAAA;AAAF,KAAjB,EAA6B;AACzB,UAAI;AACA,cAAMnB,MAAM,GAAG,MAAMF,eAAe,CAAC4B,KAAhB,EAArB;AACAP,QAAAA,MAAM,CAAC;AAAEE,UAAAA,IAAI,EAAE,WAAR;AAAqBrB,UAAAA;AAArB,SAAD,CAAN;AACA,eAAOA,MAAP;AACH,OAJD,CAIE,OAAOwB,GAAP,EAAY;AACVT,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CQ,GAA3C;AACA,cAAMA,GAAN;AACH;AACJ;;AAxBI;AAhCE,CAAf","sourcesContent":["import { orderService } from '../../services/order-service.js'\r\nimport { NEWorderService } from '../../services/NEW-order-service.js'\r\n\r\nexport default {\r\n    state: {\r\n        orders: [],\r\n    },\r\n\r\n    getters: {\r\n        orders(state) {\r\n            return state.orders\r\n        },\r\n\r\n    },\r\n\r\n    mutations: {\r\n        updateOrder(state, { order }) {\r\n            var idx = state.orders.findIndex(currOrder => currOrder._id === order._id)\r\n            state.orders.splice(idx, 1, order)\r\n        },\r\n        addOrder(state, { order }) {\r\n            state.orders.push(order)\r\n        },\r\n\r\n        setOrders(state, { orders }) {\r\n            state.orders = orders\r\n        },\r\n\r\n        setUserOrders(state, { user }) {\r\n            console.log('useruser', user);\r\n            console.log('state.orders', state.orders);\r\n        }\r\n\r\n    },\r\n\r\n    actions: {\r\n        async saveOrder({ commit }, payload) {\r\n            try {\r\n                const type = (payload.order._id) ? 'updateOrder' : 'addOrder';\r\n                // const savedOrder = await orderService.save(payload.order)\r\n                const savedOrder = await NEWorderService.add(payload.order)\r\n                commit({ type: type, order: payload.order })\r\n                return savedOrder\r\n\r\n            } catch (err) {\r\n                console.log('canntot save order', payload.order, err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n        async loadOrders({ commit }) {\r\n            try {\r\n                const orders = await NEWorderService.query()\r\n                commit({ type: 'setOrders', orders })\r\n                return orders\r\n            } catch (err) {\r\n                console.log('err in loadOrders function:', err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n\r\n    }\r\n}"]}]}